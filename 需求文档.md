# 12306 火车票订票系统需求文档

## 1. 用户登录与注册

### 1.1 登录页面
- **界面需求**:
    - 提供“账号登录”和“扫码登录”两种登录方式切换。
    - “账号登录”界面包含输入框：用户名/手机号/邮箱、密码。
    - 包含“立即登录”按钮。
    - 提供“忘记密码”和“立即注册”的链接入口。

- **功能需求**:
    - **Scenario: 用户使用有效凭据成功登录**
        - **Given** 用户已注册并拥有有效的账号和密码
        - **And** 用户位于**登录页面**
        - **When** 用户输入正确的用户名和密码，并点击“立即登录”
        - **Then** 系统验证凭据成功
        - **And** 页面跳转到系统首页或个人中心。

    - **Scenario: 用户使用无效凭据登录**
        - **Given** 用户位于**登录页面**
        - **When** 用户输入错误的用户名或密码，并点击“立即登录”
        - **Then** 系统验证凭据失败
        - **And** 页面提示“用户名或密码错误”。

### 1.2 注册页面
- **界面需求**:
    - 注册表单包含以下输入字段：
        - 用户名（必填，含格式校验规则说明）
        - 登录密码（必填，含格式校验规则说明）
        - 确认密码（必填，用于验证密码一致性）
        - 证件类型（下拉选择，如居民身份证）
        - 姓名（必填）
        - 证件号码（必填）
        - 旅客类型（下拉选择，如成人、儿童）
        - 手机号码（必填，用于接收通知和验证）
    - 包含“我已阅读并同意遵守《中国铁路客户服务中心网站服务条款》”的复选框。
    - 包含“下一步”或“注册”按钮。

- **功能需求**:
    - **Scenario: 用户成功注册新账号**
        - **Given** 用户位于**注册页面**
        - **When** 用户填写所有必填字段，信息格式正确，并同意服务条款，然后点击“注册”
        - **Then** 系统校验所有输入信息有效
        - **And** 系统创建一个新用户账号
        - **And** 页面提示“注册成功”并可能引导用户登录。

    - **Scenario: 用户注册时输入信息无效**
        - **Given** 用户位于**注册页面**
        - **When** 用户填写的信息存在格式错误（如密码不一致、身份证号格式错误）并点击“注册”
        - **Then** 系统应在对应字段旁显示错误提示，例如“两次输入的密码不一致”或“请输入有效的证件号码”。

## 2. 个人中心

### 2.1 用户基本信息
- **界面需求**:
    - 侧边栏导航，包含“个人信息”、“乘车人管理”、“订单管理”等链接。
    - 主区域展示用户的基本信息，包括：
        - 用户名
        - 姓名
        - 证件类型及号码
        - 核验状态
        - 联系手机
        - 电子邮箱
        - 旅客类型
    - 提供“编辑”或“修改”按钮，允许用户修改部分联系信息。

### 2.2 乘车人管理
- **界面需求**:
    - 以列表形式展示已添加的乘车人信息。
    - 列表字段包括：序号、姓名、证件类型、证件号码、手机号、核验状态。
    - 每行记录后有“编辑”和“删除”操作按钮。
    - 页面提供“添加”和“批量删除”乘车人的功能按钮。
    - 提供按姓名或证件号搜索乘车人的功能。

- **功能需求**:
    - **Scenario: 用户添加新的乘车人**
        - **Given** 用户位于**乘车人管理页面**
        - **When** 用户点击“添加”按钮，并填写新乘车人的有效信息（姓名、证件类型、证件号码等）
        - **Then** 系统保存新的乘车人信息
        - **And** 乘车人列表刷新，显示新添加的乘车人。

    - **Scenario: 用户编辑已有乘车人信息**
        - **Given** 用户位于**乘车人管理页面**
        - **When** 用户点击某位乘车人旁的“编辑”按钮，并修改其信息
        - **Then** 系统更新该乘车人的信息
        - **And** 乘车人列表刷新，显示更新后的信息。

    - **Scenario: 用户删除乘车人**
        - **Given** 用户位于**乘车人管理页面**
        - **When** 用户点击某位乘车人旁的“删除”按钮，并确认删除操作
        - **Then** 系统将该乘车人从列表中移除
        - **And** 乘车人列表刷新。

### 2.3 订单管理
- **界面需求**:
    - 提供“未出行订单”和“历史订单”等分类标签页。
    - 以列表形式展示订单信息。
    - 每个订单概要应展示：
        - 订票日期
        - 车次信息（如 D6）
        - 出发地、目的地、发车时间、到达时间
        - 旅客姓名
        - 座位信息
        - 票价
        - 订单状态（如：待支付、已完成、已取消）
    - 根据订单状态提供相应操作按钮，如“支付”、“取消订单”、“查看详情”。
    - 包含订单相关的温馨提示信息。

- **功能需求**:
    - **Scenario: 用户查看历史订单**
        - **Given** 用户已登录
        - **When** 用户进入**个人中心**并点击**订单管理**，切换到“历史订单”标签
        - **Then** 系统展示该用户的所有历史订单列表。

    - **Scenario: 用户支付未完成的订单**
        - **Given** 用户有一个“待支付”的订单
        - **When** 用户在订单管理页面找到该订单并点击“支付”
        - **Then** 系统跳转到支付页面，引导用户完成支付流程。